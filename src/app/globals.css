@import "tailwindcss";

:root {
  color-scheme: dark;
  --bg-base: #0c101a;
  --bg-surface: #12182a;
  --bg-elevated: #18213a;
  --bg-soft: #202b48;
  --text-primary: #f5f7ff;
  --text-secondary: #bdc8ea;
  --text-muted: #8b96bb;
  --brand-primary: #7c5cff;
  --brand-secondary: #17c7b3;
  --brand-accent: #ff7a59;
  --state-success: #22c784;
  --state-warning: #ffb649;
  --state-danger: #ff5d7a;
  --border-subtle: #2a3558;
  --radius-md: 14px;
  --radius-lg: 20px;
  --radius-pill: 999px;
}

body { font-family: Inter, system-ui, sans-serif; background: var(--bg-base); color: var(--text-primary); }
.leaflet-container { font: inherit; }
a { color: inherit; }
input, select, textarea {
  border: 1px solid var(--border-subtle);
  background: color-mix(in srgb, var(--bg-surface) 92%, black);
  border-radius: var(--radius-md);
  min-height: 44px;
  padding: 0 12px;
}

.cb-app { max-width: 960px; margin: 0 auto; padding: 12px 12px 120px; display: grid; gap: 16px; }
.cb-topbar { position: sticky; top: 0; z-index: 20; display: flex; justify-content: space-between; gap: 8px; align-items: center; padding: 10px; background: color-mix(in srgb, var(--bg-base) 84%, transparent); backdrop-filter: blur(12px); border-bottom: 1px solid var(--border-subtle); }
.cb-topbar p { font-weight: 700; }
.cb-topbar > div { display: flex; gap: 8px; }
.cb-pills { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
.cb-pill { min-height: 44px; border-radius: var(--radius-pill); border: 1px solid var(--border-subtle); background: var(--bg-surface); text-transform: capitalize; }
.cb-pill.is-active { background: color-mix(in srgb, var(--brand-primary) 24%, var(--bg-surface)); border-color: color-mix(in srgb, var(--brand-primary) 65%, white); }

.cb-screen { background: var(--bg-surface); border: 1px solid var(--border-subtle); border-radius: var(--radius-lg); padding: 16px; display: grid; gap: 12px; }
.cb-screen h3 { font-size: 1rem; font-weight: 700; }
.cb-grid { display: grid; gap: 10px; }
.cb-card, .cb-event { background: var(--bg-elevated); border: 1px solid var(--border-subtle); border-radius: var(--radius-md); padding: 12px; display: grid; gap: 8px; }
.cb-event { background: linear-gradient(135deg, color-mix(in srgb, var(--brand-primary) 22%, var(--bg-elevated)), var(--bg-elevated)); }
.cb-chip-row { display: flex; flex-wrap: wrap; gap: 8px; }
.cb-chip-row span { padding: 4px 10px; border-radius: var(--radius-pill); background: color-mix(in srgb, var(--bg-soft) 85%, black); border: 1px solid var(--border-subtle); font-size: 12px; }
.cb-actions { display: flex; flex-wrap: wrap; gap: 8px; }

.cb-btn { min-height: 44px; border-radius: var(--radius-pill); padding: 0 16px; font-weight: 600; transition: transform 260ms cubic-bezier(0.2,0.8,0.2,1), opacity 260ms; }
.cb-btn:active { transform: scale(0.98); }
.cb-btn-primary { background: var(--brand-primary); color: white; }
.cb-btn-secondary { background: color-mix(in srgb, var(--brand-secondary) 22%, var(--bg-soft)); border: 1px solid color-mix(in srgb, var(--brand-secondary) 70%, white); }
.cb-btn-ghost { border: 1px solid var(--border-subtle); background: transparent; color: var(--text-secondary); }
.cb-btn-destructive { background: color-mix(in srgb, var(--state-danger) 26%, var(--bg-surface)); border: 1px solid color-mix(in srgb, var(--state-danger) 70%, white); }

.cb-states { display: grid; gap: 8px; }
.cb-state { border-radius: var(--radius-md); border: 1px solid var(--border-subtle); padding: 10px; display: grid; gap: 6px; }
.cb-loading { background: color-mix(in srgb, var(--state-warning) 10%, var(--bg-elevated)); }
.cb-empty { background: color-mix(in srgb, var(--brand-secondary) 10%, var(--bg-elevated)); }
.cb-error { background: color-mix(in srgb, var(--state-danger) 10%, var(--bg-elevated)); }
.cb-offline { background: color-mix(in srgb, var(--brand-primary) 10%, var(--bg-elevated)); }

.cb-bottom { position: fixed; left: 0; right: 0; bottom: 0; padding: 10px max(12px, env(safe-area-inset-right)) calc(10px + env(safe-area-inset-bottom)) max(12px, env(safe-area-inset-left)); background: color-mix(in srgb, var(--bg-base) 86%, transparent); backdrop-filter: blur(14px); border-top: 1px solid var(--border-subtle); display: grid; grid-template-columns: repeat(5, 1fr); gap: 6px; }
.cb-bottom button { min-height: 44px; border-radius: 12px; display: grid; place-items: center; color: var(--text-muted); font-size: 11px; gap: 4px; }
.cb-bottom button.is-active { color: var(--text-primary); background: color-mix(in srgb, var(--brand-primary) 20%, var(--bg-surface)); }

.cb-icon { width: 24px; height: 24px; fill: none; stroke: currentColor; stroke-width: 1.8; stroke-linecap: round; stroke-linejoin: round; }
.cb-icons { display: grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: 8px; font-size: 11px; color: var(--text-muted); }
.cb-icons span { display: flex; align-items: center; gap: 6px; }
.cb-code pre { max-height: 260px; overflow: auto; font-size: 11px; }

@media (min-width: 740px) {
  .cb-app { padding-inline: 20px; }
  .cb-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .cb-states { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .cb-bottom { left: 50%; transform: translateX(-50%); max-width: 640px; border: 1px solid var(--border-subtle); border-bottom: none; border-top-left-radius: 18px; border-top-right-radius: 18px; }
}
